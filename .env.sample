# Whisper音频转录系统配置文件
# 根据config.py自动生成

# ==================== 安全配置 ====================
# Flask应用密钥，用于会话加密和安全功能
SECRET_KEY=dev-secret-key-change-in-production

# ==================== 服务器配置 ====================
# 服务器监听地址，0.0.0.0表示监听所有网络接口
HOST=0.0.0.0

# 服务器端口号
PORT=5552

# 调试模式开关，生产环境请设置为False
DEBUG=False

# ==================== 文件上传配置 ====================
# 单个文件最大大小限制(MB)
MAX_CONTENT_LENGTH=1000

# ==================== 日志配置 ====================
# 日志级别: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# 是否启用结构化日志
ENABLE_STRUCTURED_LOGGING=False

# 是否启用性能监控日志
ENABLE_PERFORMANCE_MONITORING=False

# 是否启用浏览器控制台日志输出
ENABLE_BROWSER_CONSOLE_LOG=True

# 日志轮转配置 - 单个日志文件最大大小(MB)
LOG_MAX_SIZE=10

# 日志轮转配置 - 保留的备份文件数量
LOG_BACKUP_COUNT=5

# 日志轮转配置 - 按时间轮转的备份文件数量
TIMED_LOG_BACKUP_COUNT=30

# ==================== 默认设置 ====================
# 默认使用的Whisper模型
DEFAULT_MODEL=small

# 默认语言设置，auto为自动检测
DEFAULT_LANGUAGE=auto

# 默认使用的GPU ID（多个GPU用逗号分隔）
DEFAULT_GPU_IDS=

# ==================== 转录设置 ====================
# 最大并发转录任务数，根据GPU显存和性能调整
MAX_CONCURRENT_TRANSCRIPTIONS=5

# 单个转录任务超时时间(秒)
TRANSCRIPTION_TIMEOUT=3600

# 长音频分段处理时长(秒)
SEGMENT_DURATION=30

# ==================== 文件类型配置 ====================
# 允许的文件扩展名（用逗号分隔）
ALLOWED_EXTENSIONS=mp3,wma,wav,m4a,aac,mov,mp4,flac,avi,ogg

# 最大文件名长度
MAX_FILENAME_LENGTH=255

# ==================== 内存管理配置 ====================
# 内存安全边际（0.0-1.0）
MEMORY_SAFETY_MARGIN=0.1

# 预留内存（GB）
RESERVED_MEMORY=0.0

# ==================== 模型配置 ====================
# 模型存储基础路径
MODEL_BASE_PATH=/root/.cache/whisper

# 支持的模型列表，用逗号分隔，为空则使用所有可用模型
SUPPORTED_MODELS=

# ==================== 优化系统配置 ====================
# 是否启用优化系统
ENABLE_OPTIMIZATION_SYSTEM=True

# 批处理调度间隔（秒）
BATCH_SCHEDULE_INTERVAL=2.0

# 最大任务重试次数
MAX_TASK_RETRIES=3

# 内存校准因子
MEMORY_CALIBRATION_FACTOR=1.0

# 性能监控间隔（秒）
PERFORMANCE_MONITOR_INTERVAL=30

# 是否启用自适应优化
ENABLE_ADAPTIVE_OPTIMIZATION=True

# 最小批处理大小
MIN_BATCH_SIZE=1

# 最大批处理大小
MAX_BATCH_SIZE=5

# ==================== WebSocket配置 ====================
# WebSocket ping超时时间（秒）
WEBSOCKET_PING_TIMEOUT=60

# WebSocket ping间隔（秒）
WEBSOCKET_PING_INTERVAL=25

# ==================== 系统配置 ====================
# 工作线程数
WORKER_THREADS=4

# 清理间隔（秒）
CLEANUP_INTERVAL=3600

# 内存清理阈值
MEMORY_CLEANUP_THRESHOLD=0.9

# 每个GPU最大任务数
MAX_TASKS_PER_GPU=10
